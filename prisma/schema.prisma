generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String
  name      String?
  role      String   @default("admin")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}

model HeroSection {
  id          String   @id @default(cuid())
  title       String
  description String
  stat1Number String
  stat1Text   String
  stat2Number String
  stat2Text   String
  button1Text String
  button1Link String
  button2Text String
  button2Link String
  imageUrl    String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  locale      String   @unique @default("tr")

  @@map("hero_section")
}

model AboutSection {
  id          String   @id @default(cuid())
  title       String
  description String
  buttonText  String
  buttonLink  String
  imageUrl    String
  rating      Float    @default(4.88)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  locale      String   @unique @default("tr")

  @@map("about_section")
}

model Feature {
  id          String   @id @default(cuid())
  title       String
  description String
  order       Int
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  locale      String   @default("tr")

  @@index([locale])
  @@map("features")
}

model Testimonial {
  id        String   @id @default(cuid())
  name      String
  rating    Int      @default(5)
  comment   String
  order     Int      @default(0)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  active    Boolean  @default(true)
  imageUrl  String?
  locale    String   @default("tr")
  procedure String

  @@index([locale])
  @@index([active])
  @@map("testimonials")
}

model BlogPost {
  id        String   @id @default(cuid())
  title     String
  slug      String
  excerpt   String
  imageUrl  String
  order     Int      @default(0)
  metaTitle       String?   
  metaDescription String?  @db.Text 
  metaKeywords    String?  
  published Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  author    String?
  category  String?
  content   String?
  locale    String   @default("tr")
  readTime  String?

  @@unique([locale, slug])
  @@index([locale])
  @@index([published])
  @@map("blog_posts")
}

model CTASection {
  id          String   @id @default(cuid())
  title       String
  description String
  button1Text String
  button1Link String
  button2Text String
  button2Link String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  locale      String   @unique @default("tr")

  @@map("cta_section")
}

model Procedure {
  id          String   @id @default(cuid())
  title       String
  slug        String
  description String
  category    String
  imageUrl    String
  badge       String?
  detailLink  String?
  order       Int      @default(0)
  published   Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  locale      String   @default("tr")

  @@unique([locale, slug])
  @@index([locale, published])
  @@index([category])
  @@map("procedures")
}

model FooterContent {
  id             String   @id @default(cuid())
  locale         String   @unique
  phone          String
  phoneSecondary String?
  email          String
  address        String
  mapLink        String?
  facebookUrl    String?
  instagramUrl   String?
  twitterUrl     String?
  linkedinUrl    String?
  youtubeUrl     String?
  copyrightText  String
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@map("footer_content")
}

model FooterLinkGroup {
  id        String       @id @default(cuid())
  locale    String
  title     String
  slug      String
  order     Int          @default(0)
  active    Boolean      @default(true)
  createdAt DateTime     @default(now())
  updatedAt DateTime     @updatedAt
  links     FooterLink[]

  @@unique([locale, slug])
  @@index([locale, active, order])
  @@map("footer_link_groups")
}

model FooterLink {
  id        String          @id @default(cuid())
  groupId   String
  title     String
  href      String
  order     Int             @default(0)
  active    Boolean         @default(true)
  createdAt DateTime        @default(now())
  updatedAt DateTime        @updatedAt
  group     FooterLinkGroup @relation(fields: [groupId], references: [id], onDelete: Cascade)

  @@index([groupId, active, order])
  @@map("footer_links")
}

model HeaderNavItem {
  id           String          @id @default(cuid())
  locale       String
  title        String
  href         String
  parentId     String?
  order        Int             @default(0)
  active       Boolean         @default(true)
  openInNewTab Boolean         @default(false)
  createdAt    DateTime        @default(now())
  updatedAt    DateTime        @updatedAt
  parent       HeaderNavItem?  @relation("NavItemChildren", fields: [parentId], references: [id], onDelete: Cascade)
  children     HeaderNavItem[] @relation("NavItemChildren")

  @@index([locale, active, order])
  @@index([parentId])
  @@map("header_nav_items")
}

model ContactPage {
  id                   String   @id @default(cuid())
  locale               String   @unique
  headerTitle          String
  headerDescription    String
  headerButtonText     String
  headerImage          String
  formTitle            String
  formDescription      String
  happyCustomersText   String
  reviewsRating        String
  reviewsText          String
  reviewsLink          String
  addressLabel         String
  addressText          String
  addressLink          String
  phoneLabel           String
  phoneText            String
  phoneLink            String
  hoursLabel           String
  hoursText            String
  formTitleBox         String
  formSubtitle         String
  firstNamePlaceholder String
  lastNamePlaceholder  String
  emailPlaceholder     String
  phonePlaceholder     String
  messagePlaceholder   String
  submitButtonText     String
  submittingButtonText String
  successMessage       String
  errorMessage         String
  emailRecipient       String
  emailSubject         String
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt

  @@map("contact_page")
}

model ContactSubmission {
  id        String   @id @default(cuid())
  firstName String
  lastName  String
  email     String
  phone     String
  message   String
  locale    String
  status    String   @default("new")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([status, createdAt])
  @@map("contact_submissions")
}

model AboutPage {
  id                     String   @id @default(cuid())
  locale                 String   @unique
  headerTitle            String
  headerTitleHighlight   String
  headerSubtitle         String
  headerDescription      String
  headerButtonServices   String
  headerButtonContact    String
  headerImage            String
  headerExperienceYears  String
  headerExperienceText   String
  featuresTitle          String
  featuresTitleHighlight String
  featuresSubtitle       String
  missionDoctorImage     String
  missionQuote           String
  missionTitle           String
  missionSubtitle        String
  missionDescription1    String
  missionDescription2    String
  stat1Value             String
  stat1Label             String
  stat2Value             String
  stat2Label             String
  stat3Value             String
  stat3Label             String
  stat4Value             String
  stat4Label             String
  createdAt              DateTime @default(now())
  updatedAt              DateTime @updatedAt

  @@map("about_page")
}

model AboutFeature {
  id          String   @id @default(cuid())
  locale      String
  featureId   String
  title       String
  description String
  image       String
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([locale, active, order])
  @@map("about_features")
}

model ProcedurePage {
  id                         String   @id @default(cuid())
  slug                       String
  locale                     String
  heroTitle                  String
  heroTitleHighlight         String
  heroDescription            String
  heroButtonReviews          String
  heroButtonPhone            String
  heroImage                  String
  heroImageAlt               String
  deviceTitle                String
  deviceDescription          String
  deviceFeaturesTitle        String
  deviceAdvantagesTitle      String
  pricingTitle               String
  pricingDescription         String
  pricingCallText            String
  whyUsTitle                 String
  faqTitle                   String
  ctaTitle                   String
  ctaDescription             String
  ctaButtonPhone             String
  ctaButtonWhatsApp          String
  active                     Boolean  @default(true)
  createdAt                  DateTime @default(now())
  updatedAt                  DateTime @updatedAt
  categoriesIntroDescription String?
  categoriesIntroTitle       String?
  advantages                 Json?
  customFaqs                 Json?
  gallery                    Json?
  order                      Int      @default(0)
  parentSlug                 String?
  processSteps               Json?
  seoContent                 String?
  categorySlugTR             String?
  categorySlugEN             String?

  @@unique([slug, locale])
  @@index([slug, locale, active])
  @@index([categorySlugTR, categorySlugEN])
  @@index([parentSlug, locale, active])
  @@map("procedure_pages")
}

model ProcedureFeature {
  id          String   @id @default(cuid())
  pageSlug    String
  locale      String
  icon        String
  title       String
  description String
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([pageSlug, locale, active, order])
  @@map("procedure_features")
}

model ProcedureDeviceItem {
  id        String   @id @default(cuid())
  pageSlug  String
  locale    String
  type      String
  text      String
  order     Int      @default(0)
  active    Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([pageSlug, locale, type, active, order])
  @@map("procedure_device_items")
}

model ProcedureTreatmentArea {
  id          String   @id @default(cuid())
  pageSlug    String
  locale      String
  title       String
  description String
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([pageSlug, locale, active, order])
  @@map("procedure_treatment_areas")
}

model ProcedurePricing {
  id          String   @id @default(cuid())
  pageSlug    String
  locale      String
  title       String
  description String
  priceText   String
  colorScheme String
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([pageSlug, locale, active, order])
  @@map("procedure_pricing")
}

model ProcedureWhyUs {
  id          String   @id @default(cuid())
  pageSlug    String
  locale      String
  icon        String
  title       String
  description String
  colorScheme String
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([pageSlug, locale, active, order])
  @@map("procedure_why_us")
}

model ProcedureFAQ {
  id        String   @id @default(cuid())
  pageSlug  String
  locale    String
  question  String
  answer    String
  order     Int      @default(0)
  active    Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([pageSlug, locale, active, order])
  @@map("procedure_faqs")
}

model ProcedureAboutSection {
  id              String   @id @default(cuid())
  pageSlug        String
  locale          String
  title           String
  description     String
  areasTitle      String
  advantagesTitle String
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@unique([pageSlug, locale])
  @@index([pageSlug, locale])
  @@map("procedure_about_sections")
}

model ProcedureAboutArea {
  id        String   @id @default(cuid())
  pageSlug  String
  locale    String
  text      String
  order     Int      @default(0)
  active    Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([pageSlug, locale, active, order])
  @@map("procedure_about_areas")
}

model ProcedureAboutAdvantage {
  id        String   @id @default(cuid())
  pageSlug  String
  locale    String
  text      String
  order     Int      @default(0)
  active    Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([pageSlug, locale, active, order])
  @@map("procedure_about_advantages")
}

model ProcedureProcess {
  id          String   @id @default(cuid())
  pageSlug    String
  locale      String
  number      String
  title       String
  description String
  bgColor     String   @default("bg-primary/20")
  textColor   String   @default("text-primary")
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([pageSlug, locale, active, order])
  @@map("procedure_processes")
}

model SurgicalCategory {
  id              String   @id @default(cuid())
  locale          String
  slug            String
  title           String
  description     String?  @db.Text
  heroImage       String?
  clinicImage     String?
  patientsCount   String   @default("15,000+")
  experienceYears String   @default("15+")
  rating          String   @default("4.9/5")
  galleryImages   String[] @default([])
  seoContent       String?  @db.Text
  metaTitle       String?
  metaDescription String?
  metaKeywords    String?
  published       Boolean  @default(false)
  order           Int      @default(0)
  active          Boolean  @default(true)
  
  advantages      SurgicalAdvantage[]
  processSteps    SurgicalProcessStep[]
  faqs            SurgicalFAQ[]
  features        SurgicalFeature[]
  whyChooseItems   SurgicalWhyChooseItem[]
  
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  
  @@unique([slug, locale])
  @@index([locale, published, active])
}

model SurgicalFeature {
  id          String            @id @default(cuid())
  categoryId  String
  category    SurgicalCategory  @relation(fields: [categoryId], references: [id], onDelete: Cascade)
  title       String
  description String            @db.Text
  icon        String?           // İkon adı (örn: "Zap", "Heart")
  order       Int               @default(0)
  active      Boolean           @default(true)

  @@unique([categoryId, order])
  @@map("surgical_features")
}


model SurgicalAdvantage {
  id          String   @id @default(cuid())
  categoryId  String
  category    SurgicalCategory @relation(fields: [categoryId], references: [id], onDelete: Cascade)
  title       String
  description String?  @db.Text
  icon        String?
  order       Int      @default(0)
  active      Boolean  @default(true)
  
  @@unique([categoryId, order])
  @@index([categoryId, order])
}

model SurgicalProcessStep {
  id          String   @id @default(cuid())
  categoryId  String
  category    SurgicalCategory @relation(fields: [categoryId], references: [id], onDelete: Cascade)
  step        String
  description String   @db.Text
  order       Int      @default(0)
  active      Boolean  @default(true)
  
  @@unique([categoryId, order])
  @@index([categoryId, order])
}

model SurgicalFAQ {
  id          String   @id @default(cuid())
  categoryId  String
  category    SurgicalCategory @relation(fields: [categoryId], references: [id], onDelete: Cascade)
  question    String   @db.Text
  answer      String   @db.Text
  order       Int      @default(0)
  active      Boolean  @default(true)
  
  @@unique([categoryId, order])
  @@index([categoryId, order])
}

model SurgicalWhyChooseItem {
  id          String            @id @default(cuid())
  categoryId  String
  category    SurgicalCategory  @relation(fields: [categoryId], references: [id], onDelete: Cascade)
  text        String
  order       Int               @default(0)
  active      Boolean           @default(true)

  @@unique([categoryId, order])
  @@map("surgical_why_choose_items")
}

// ============================================
// SUB-CATEGORY MODELS (Hibrit Model)
// ============================================

// Genel sayfalar için alt kategoriler (Anasayfa, Hakkımızda, İletişim, vs.)
model PageSubcategory {
    id          String   @id @default(cuid())
  parentSlug  String
  slug        String
  locale      String

  // Hero Section
  heroTitle          String
  heroHighlight      String?
  heroDescription    String?   @db.Text
  heroImage          String?
  heroImageAlt       String?

  // İçerik Bölümleri (JSON)
  sections           Json?

  // SEO
  metaTitle          String?
  metaDescription    String?
  metaKeywords       String?

  // Metadata
  order              Int       @default(0)
  published          Boolean   @default(false)
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt

  @@unique([parentSlug, slug, locale])
  @@map("page_subcategories")
}

// Prosedür sayfaları için alt kategoriler (Lazer Epilasyon, Saç Ekimi, vs.)
model ProcedureSubcategory {
  id          String   @id @default(cuid())
  parentSlug  String   // "lazer-epilasyon", "sac-ekimi"
  slug        String
  locale      String
  
  // Hero Section
  heroTitle           String
  heroTitleHighlight  String?
  heroDescription     String?  @db.Text
  heroButtonReviews   String?
  heroButtonPhone     String?
  heroImage           String?
  heroImageAlt        String?
  
  // Device/Technique Section
  deviceTitle         String?
  deviceDescription   String?  @db.Text
  deviceFeaturesTitle String?
  deviceAdvantagesTitle String?
  
  // Pricing Section
  pricingTitle        String?
  pricingDescription  String?  @db.Text
  pricingCallText     String?
  
  // Why Us Section
  whyUsTitle          String?
  
  // FAQ Section
  faqTitle            String?
  
  // CTA Section
  ctaTitle            String?
  ctaDescription      String?  @db.Text
  ctaButtonPhone      String?
  ctaButtonWhatsApp   String?
  
  // Metadata
  order       Int      @default(0)
  published   Boolean  @default(false)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  // SEO
  metaTitle       String?
  metaDescription String?
  metaKeywords    String?

  // İlişkiler
  features       ProcedureSubcategoryFeature[]
  deviceItems    ProcedureSubcategoryDeviceItem[]
  treatmentAreas ProcedureSubcategoryTreatmentArea[]
  pricing        ProcedureSubcategoryPricing[]
  whyUs          ProcedureSubcategoryWhyUs[]
  faqs           ProcedureSubcategoryFAQ[]
  
  @@unique([parentSlug, slug, locale])
  @@map("procedure_subcategories")
}

// Prosedür alt kategori özellikleri (Features)
model ProcedureSubcategoryFeature {
  id          String   @id @default(cuid())
  subcategoryId String
  locale      String
  
  icon        String?
  title       String
  description String
  
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  subcategory ProcedureSubcategory @relation(fields: [subcategoryId], references: [id], onDelete: Cascade)
  
  @@unique([subcategoryId, order])
  @@map("procedure_subcategory_features")
}

// Prosedür alt kategori cihaz özellikleri
model ProcedureSubcategoryDeviceItem {
  id          String   @id @default(cuid())
  subcategoryId String
  locale      String
  
  type        String   // "feature" | "advantage"
  text        String
  
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  subcategory ProcedureSubcategory @relation(fields: [subcategoryId], references: [id], onDelete: Cascade)
  
  @@unique([subcategoryId, type, order])
  @@map("procedure_subcategory_device_items")
}

// Prosedür alt kategori tedavi alanları
model ProcedureSubcategoryTreatmentArea {
  id          String   @id @default(cuid())
  subcategoryId String
  locale      String
  
  title       String
  description String?
  
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  subcategory ProcedureSubcategory @relation(fields: [subcategoryId], references: [id], onDelete: Cascade)
  
  @@unique([subcategoryId, order])
  @@map("procedure_subcategory_treatment_areas")
}

// Prosedür alt kategori fiyatlandırma
model ProcedureSubcategoryPricing {
  id          String   @id @default(cuid())
  subcategoryId String
  locale      String
  
  title       String
  description String?
  priceText   String
  colorScheme String?  // "primary" | "secondary" | "accent" | "destructive"
  
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  subcategory ProcedureSubcategory @relation(fields: [subcategoryId], references: [id], onDelete: Cascade)
  
  @@unique([subcategoryId, order])
  @@map("procedure_subcategory_pricing")
}

// Prosedür alt kategori "Neden Biz"
model ProcedureSubcategoryWhyUs {
  id          String   @id @default(cuid())
  subcategoryId String
  locale      String
  
  icon        String?
  title       String
  description String
  colorScheme String?
  
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  subcategory ProcedureSubcategory @relation(fields: [subcategoryId], references: [id], onDelete: Cascade)
  
  @@unique([subcategoryId, order])
  @@map("procedure_subcategory_why_us")
}

// Prosedür alt kategori FAQ
model ProcedureSubcategoryFAQ {
  id          String   @id @default(cuid())
  subcategoryId String
  locale      String
  
  question    String
  answer      String   @db.Text
  
  order       Int      @default(0)
  active      Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  subcategory ProcedureSubcategory @relation(fields: [subcategoryId], references: [id], onDelete: Cascade)
  
  @@unique([subcategoryId, order])
  @@map("procedure_subcategory_faqs")
}
